% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/hier_boot_jsd_model.R
\name{hier_boot_jsd_model}
\alias{hier_boot_jsd_model}
\title{Hierarchical bootstrap for JSD-based models}
\usage{
hier_boot_jsd_model(
  data,
  group_col,
  category_col,
  features,
  formula,
  fit_fun = NULL,
  n_outer = 200,
  min_tokens = 30,
  eps = 1e-06,
  progress = TRUE,
  ...
)
}
\arguments{
\item{data}{Data frame with at least: group_col, category_col, features,
and any predictors used in the model.}

\item{group_col}{String: grouping variable (e.g., "speaker").}

\item{category_col}{String: category variable with 2 levels (e.g., "vowel").}

\item{features}{Character vector of acoustic feature columns.}

\item{formula}{Model formula to pass to \code{fit_fun} (e.g.,
\code{jsd_beta ~ s(age) + s(region, bs = "re")}).}

\item{fit_fun}{A function that takes \verb{(formula, data, ...)} and returns a
fitted model. Defaults to \code{mgcv::gam} if available, otherwise \code{stats::lm}.}

\item{n_outer}{Number of hierarchical bootstrap replicates.}

\item{min_tokens}{Minimum within-group tokens required.}

\item{eps}{Small epsilon for bounding JSD in (0, 1) if using Beta family.}

\item{progress}{Logical; if TRUE, prints progress every 10 replicates.}

\item{...}{Additional arguments passed to \code{fit_fun}.}
}
\value{
A tibble with columns:
\itemize{
\item \code{boot_id} – bootstrap replicate index
\item \code{term} – model term
\item \code{estimate} – estimate for that term in that replicate
}
}
\description{
Performs a hierarchical bootstrap: resample groups with replacement,
resample tokens within each sampled group, compute JSD per group,
fit a model to the bootstrap JSD values, and repeat.
}
\details{
This lets you propagate measurement uncertainty in JSD into model
parameters (e.g., GAM/LMM coefficients).
}
